<!doctype HTML>
<html>
  <head>
    <title>jQuery document-viewer</title>
    <meta charset="utf-8" />
    <script src="package/JQuery_JS-virwer_showdown_x2j_json2.js"></script>
    <link href="package/jsonviewer.min.css" type="text/css" rel="stylesheet" />
	<link href="http://qalet.com/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
body {
  margin: 0 100px;
  font-family: sans-serif;
}
/*
textarea#json-input {
  width: 100%;
  height: 200px;
}
*/
pre.json-renderer {
  border: 1px solid #aaa;
  padding: 0.5em 1.5em;
}
    </style>
  </head>
  <body>
 <form>
	<div class="form-group">
	  <label for="comment">Comment:</label>
	  <textarea class="form-control" rows="5" id="comment"></textarea>
	</div>
	
	<div class="form-group">
	  <label for="sel1">Select list:</label>
	  <select class="form-control" id="sel1">
		<option>1</option>
		<option>2</option>
		<option>3</option>
		<option>4</option>
	  </select>
	</div>	
	
<div class="checkbox">
  <label><input type="checkbox" value="">Option 1</label>
</div>
<div class="checkbox">
  <label><input type="checkbox" value="">Option 2</label>
</div>
<div class="checkbox disabled">
  <label><input type="checkbox" value="" disabled>Option 3</label>
</div>  
  <button type="submit" class="btn btn-default">Submit</button>
</form> 
    <pre id="json-renderer" class="json-renderer"></pre>
	<pre id="json-renderer2" class="json-renderer"></pre>
    <div id="md"></div>
   <script>
		var HtmlViwer = function(url, type, target) {
           		$.get(url,
				{md:'http://jsonviewer.qalet.com/js/showdown/README.md'},
				function(data) {
					if (type == 'md') {
						var converter = new showdown.Converter();
						target.html(converter.makeHtml(data));
					}	
					if (type == 'json') {
						var options = {
						  collapsed: false,
						  withQuotes: true
						};
						target.jsonViewer(JSON.parse(data), options);   
					}
					if (type == 'xml') {
						var x2js = new X2JS();
						var jsonObj = x2js.xml_str2json( data );
						console.log(jsonObj);
						var options = {
						  collapsed: false,
						  withQuotes: true
						};
						target.jsonViewer(jsonObj, options);  	
					}	
				},'text'
           );  		
		};
		HtmlViwer('http://docviewer.qalet.com/README.md', 'md',  $('#md'));
		HtmlViwer('http://docviewer.qalet.com/api/data.js', 'json',  $('#json-renderer'));
		HtmlViwer('http://docviewer.qalet.com/data.xml', 'xml',  $('#json-renderer2'));
    </script>
    
  </body>
</html>
