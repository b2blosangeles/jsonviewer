<!doctype HTML>
<html>
  <head>
    <title>jQuery document-viewer</title>
    <meta charset="utf-8" />
    <script src="package/JQuery_JS-virwer_showdown_x2j_json2.js"></script>
    <link href="package/jsonviewer.min.css" type="text/css" rel="stylesheet" />
	<link href="http://qalet.com/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
body {
  margin: 0 100px;
  font-family: sans-serif;
}
/*
textarea#json-input {
  width: 100%;
  height: 200px;
}
*/
pre.json-renderer {
  border: 1px solid #aaa;
  padding: 0.5em 1.5em;
}
    </style>
  </head>
  <body>
  
  
  
 <form>
	 <div class="container-fluid">
		<h1>Hello World!</h1>
		<p>Resize the browser window to see the effect.</p>
		<div class="row">
		<div class="col-sm-9" style="background-color:lavender;">
			<div class="form-group">
			  <label for="comment">Data Source:</label>
			  <textarea class="form-control" rows="5" id="comment"></textarea>
			</div>	

		</div>
		<div class="col-sm-3" style="background-color:lavenderblush;">
			<div class="form-group">
			  <label for="sel1">Data type:</label>
			  <select class="form-control" id="sel1">
				<option>JSON</option>
				<option>XML</option>
				<option>MarkDown</option>
			  </select>
			  <button type="submit" class="btn btn-default">Submit</button>
			</div>		
		</div>
		</div>
	</div>
</form> 
    <pre id="json-renderer" class="json-renderer"></pre>
	<pre id="json-renderer2" class="json-renderer"></pre>
    <div id="md"></div>
   <script>
		var HtmlViwer = function(url, type, target) {
           		$.get(url,
				{md:'http://jsonviewer.qalet.com/js/showdown/README.md'},
				function(data) {
					if (type == 'md') {
						var converter = new showdown.Converter();
						target.html(converter.makeHtml(data));
					}	
					if (type == 'json') {
						var options = {
						  collapsed: false,
						  withQuotes: true
						};
						target.jsonViewer(JSON.parse(data), options);   
					}
					if (type == 'xml') {
						var x2js = new X2JS();
						var jsonObj = x2js.xml_str2json( data );
						console.log(jsonObj);
						var options = {
						  collapsed: false,
						  withQuotes: true
						};
						target.jsonViewer(jsonObj, options);  	
					}	
				},'text'
           );  		
		};
		HtmlViwer('http://docviewer.qalet.com/README.md', 'md',  $('#md'));
		HtmlViwer('http://docviewer.qalet.com/api/data.js', 'json',  $('#json-renderer'));
		HtmlViwer('http://docviewer.qalet.com/data.xml', 'xml',  $('#json-renderer2'));
    </script>
    
  </body>
</html>
